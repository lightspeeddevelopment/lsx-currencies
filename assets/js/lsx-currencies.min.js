var lsx_money=fx.noConflict();LSX_Currencies={initThis:function(){""!==lsx_currencies_params.rates&&(console.log(lsx_currencies_params),lsx_money.rates=lsx_currencies_params.rates,lsx_money.base="USD",this.current_currency=lsx_currencies_params.current_currency,this.current_currency!=lsx_currencies_params.base&&this.checkAmounts(lsx_currencies_params.base),this.watchMenuSwitcher())},checkAmounts:function(r){console.log("[LSX_Currencies.checkAmounts] from: "+r);var e=this;jQuery(".amount.lsx-currencies").each(function(){var r="",c="",n="";if(jQuery(this).hasClass("woocommerce-Price-amount")?(n=jQuery(this).attr("data-price-"+e.current_currency),r=jQuery(this).attr("data-price-"+lsx_currencies_params.base)):(n=jQuery(this).find(".value").attr("data-price-"+e.current_currency),r=jQuery(this).find(".value").attr("data-price-"+lsx_currencies_params.base)),c=void 0!==n&&!1!==n?n:e.switchCurrency(lsx_currencies_params.base,e.current_currency,r),jQuery(this).hasClass("woocommerce-Price-amount")){var s=e.current_currency;void 0!==lsx_currencies_params.currency_symbols[e.current_currency]&&(s=lsx_currencies_params.currency_symbols[e.current_currency]);var u='<span class="woocommerce-Price-currencySymbol">'+s+"</span>"+c;jQuery(this).html(u)}else jQuery(this).find(".value").html(c),jQuery(this).find(".currency-icon").prop("class","").addClass("currency-icon").addClass(e.current_currency.toLowerCase()).html(e.current_currency)})},switchCurrency:function(r,e,c){return c=lsx_money(c).from(r).to(e),c=this.formatAmount(c),console.log(c),c},formatAmount:function(r){return r=accounting.formatNumber(r,2,",",".")},watchMenuSwitcher:function(){var r=this;jQuery(".menu-item-currency a").on("click",function(e){e.preventDefault(),from=r.current_currency;var c=jQuery(this).attr("href").replace("#","");r.current_currency=c.toUpperCase();if(!jQuery(this).hasClass("current")){var n="";1==lsx_currencies_params.flags&&(n='<span class="flag-icon flag-icon-'+c.substring(0,2)+'"></span> '),jQuery(this).parents("li.menu-item-currency-current").find("a.current").attr("href","#"+c).html(n+r.current_currency+'<span class="currency-icon '+c+'"></span><span class="caret"></span>'),jQuery(this).parents("li.menu-item-currency-current").find("li.hidden").show().removeClass("hidden"),jQuery(this).parent().hide().addClass("hidden")}Cookies.set("lsx_currencies_choice",r.current_currency),r.checkAmounts(from,r.current_currency)})},menuLabelToggle:function(r){return r=accounting.formatNumber(r,2,",",".")}},jQuery(document).ready(function(){LSX_Currencies.initThis()});